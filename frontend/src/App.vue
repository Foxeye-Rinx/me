<template>
  <nav-bar class="h-14 sm:h-24" />

  <main>
    <router-view />
  </main>

  <the-footer />
</template>

<script setup lang="ts">
import { useHead } from '@vueuse/head'
import { useI18n } from 'vue-i18n'
import { useRouter } from 'vue-router'

import NavBar from '@/components/app/NavBar.vue'
import TheFooter from '@/components/app/TheFooter.vue'
const { locale } = useI18n()

const { currentRoute } = useRouter()
if (currentRoute.value.path.startsWith('/ja')) {
  if (locale.value !== 'ja') {
    locale.value = 'ja'
  }
} else if (locale.value !== 'en') {
  locale.value = 'en'
}

useHead({
  htmlAttrs: [{ lang: locale.value === 'ja' ? 'ja' : 'en' }],
  meta: [
    { name: 'author', content: 'Tomoki Miyauchi' },
    { name: 'copyright', content: '2021 Â©Tomoki Miyauchi' },
    { property: 'og:title', content: 'Tomoki Miyauchi' },
    { property: 'og:description', content: "Tomoki Miyauchi's Portfolio" },
    { property: 'og:image', content: 'https://miyauchi.dev/logo.png' },
    { property: 'og:site_name', content: "Tomoki Miyauchi's Portfolio" },
    { name: 'twitter:card', content: 'summary' },
    { name: 'twitter:site', content: '@miyauchi_tomoki' }
  ]
})
</script>
